width = 800, height = 800)
fig
source("./scripts/app_cleaned.R")
source("./scripts/google_cleaned.R")
age_rating_apple <- apple_cleaned %>%
group_by(new_content_rating, prime_genre) %>%
summarise(amount_spent = sum(price, na.rm = TRUE))
apple_rating_4 <- age_rating_apple %>% filter(new_content_rating == "4")
apple_rating_9 <- age_rating_apple %>% filter(new_content_rating == "9")
apple_rating_12 <- age_rating_apple %>% filter(new_content_rating == "12")
apple_rating_17 <- age_rating_apple %>% filter(new_content_rating == "17")
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent,
name = "4+", domain = list(row = 0, column = 0))
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent,
name = "9+", domain = list(row = 0, column = 1))
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent,
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent,
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Pie Charts with Subplots", showlegend = F,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = FALSE))
fig
fig <- fig %>% layout(title = "Pie Charts with Subplots", showlegend = F,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = FALSE),
uniformtext=list(minsize=12, mode='hide'))
fig
source("./scripts/app_cleaned.R")
source("./scripts/google_cleaned.R")
age_rating_apple <- apple_cleaned %>%
group_by(new_content_rating, prime_genre) %>%
summarise(amount_spent = sum(price, na.rm = TRUE))
apple_rating_4 <- age_rating_apple %>% filter(new_content_rating == "4")
apple_rating_9 <- age_rating_apple %>% filter(new_content_rating == "9")
apple_rating_12 <- age_rating_apple %>% filter(new_content_rating == "12")
apple_rating_17 <- age_rating_apple %>% filter(new_content_rating == "17")
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0))
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1))
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Pie Charts with Subplots", showlegend = F,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = FALSE),
uniformtext=list(minsize=12, mode='hide'))
fig
fig
library(dplyr)
library(tidyr)
library(ggplot2)
library(plotly)
library(ggpubr)
source("./scripts/app_cleaned.R")
source("./scripts/google_cleaned.R")
age_rating_apple <- apple_cleaned %>%
group_by(new_content_rating, prime_genre) %>%
summarise(amount_spent = sum(price, na.rm = TRUE))
apple_rating_4 <- age_rating_apple %>% filter(new_content_rating == "4")
apple_rating_9 <- age_rating_apple %>% filter(new_content_rating == "9")
apple_rating_12 <- age_rating_apple %>% filter(new_content_rating == "12")
apple_rating_17 <- age_rating_apple %>% filter(new_content_rating == "17")
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0))
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1))
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Pie Charts with Subplots", showlegend = F,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
uniformtext=list(minsize=12, mode='hide'))
fig
source("./scripts/app_cleaned.R")
source("./scripts/google_cleaned.R")
age_rating_apple <- apple_cleaned %>%
group_by(new_content_rating, prime_genre) %>%
summarise(amount_spent = sum(price, na.rm = TRUE))
apple_rating_4 <- age_rating_apple %>% filter(new_content_rating == "4")
apple_rating_9 <- age_rating_apple %>% filter(new_content_rating == "9")
apple_rating_12 <- age_rating_apple %>% filter(new_content_rating == "12")
apple_rating_17 <- age_rating_apple %>% filter(new_content_rating == "17")
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0))
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1))
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Pie Charts with Subplots", showlegend = T,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
uniformtext=list(minsize=12, mode='hide'))
fig
source("./scripts/app_cleaned.R")
source("./scripts/google_cleaned.R")
age_rating_apple <- apple_cleaned %>%
group_by(new_content_rating, prime_genre) %>%
summarise(amount_spent = sum(price, na.rm = TRUE))
apple_rating_4 <- age_rating_apple %>% filter(new_content_rating == "4")
apple_rating_9 <- age_rating_apple %>% filter(new_content_rating == "9")
apple_rating_12 <- age_rating_apple %>% filter(new_content_rating == "12")
apple_rating_17 <- age_rating_apple %>% filter(new_content_rating == "17")
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0), text = "4+", textposition = 'middle center',
textfont = list(color = '#000000', size = 16)))
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0), text = "4+", textposition = 'middle center',
textfont = list(color = '#000000', size = 16))
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1))
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Spending in different age groups", showlegend = T,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
uniformtext=list(minsize=12, mode='hide'))
fig
source("./scripts/app_cleaned.R")
source("./scripts/google_cleaned.R")
age_rating_apple <- apple_cleaned %>%
group_by(new_content_rating, prime_genre) %>%
summarise(amount_spent = sum(price, na.rm = TRUE))
apple_rating_4 <- age_rating_apple %>% filter(new_content_rating == "4")
apple_rating_9 <- age_rating_apple %>% filter(new_content_rating == "9")
apple_rating_12 <- age_rating_apple %>% filter(new_content_rating == "12")
apple_rating_17 <- age_rating_apple %>% filter(new_content_rating == "17")
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0)) %>% layout(title = "4+")
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1))
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Spending in different age groups", showlegend = T,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
uniformtext=list(minsize=12, mode='hide'))
fig
# annotations
a <- list(
text = "SUBPLOT TITLE A",
font = f,
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 1,
showarrow = FALSE
)
b <- list(
text = "SUBPLOT TITLE B",
font = f,
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 1,
showarrow = FALSE
)
f <- list(
family = "Courier New, monospace",
size = 18,
color = "black")
# annotations
a <- list(
text = "SUBPLOT TITLE A",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 1,
showarrow = FALSE
)
b <- list(
text = "SUBPLOT TITLE B",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 1,
showarrow = FALSE
)
source("./scripts/app_cleaned.R")
source("./scripts/google_cleaned.R")
age_rating_apple <- apple_cleaned %>%
group_by(new_content_rating, prime_genre) %>%
summarise(amount_spent = sum(price, na.rm = TRUE))
apple_rating_4 <- age_rating_apple %>% filter(new_content_rating == "4")
apple_rating_9 <- age_rating_apple %>% filter(new_content_rating == "9")
apple_rating_12 <- age_rating_apple %>% filter(new_content_rating == "12")
apple_rating_17 <- age_rating_apple %>% filter(new_content_rating == "17")
f <- list(
family = "Courier New, monospace",
size = 18,
color = "black")
# annotations
a <- list(
text = "SUBPLOT TITLE A",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 1,
showarrow = FALSE
)
b <- list(
text = "SUBPLOT TITLE B",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 1,
showarrow = FALSE
)
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0)) %>% layout(annotations = a)
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1)) %>% layout(annotations = b)
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Spending in different age groups", showlegend = T,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
uniformtext=list(minsize=12, mode='hide'))
fig
source("./scripts/app_cleaned.R")
source("./scripts/google_cleaned.R")
age_rating_apple <- apple_cleaned %>%
group_by(new_content_rating, prime_genre) %>%
summarise(amount_spent = sum(price, na.rm = TRUE))
apple_rating_4 <- age_rating_apple %>% filter(new_content_rating == "4")
apple_rating_9 <- age_rating_apple %>% filter(new_content_rating == "9")
apple_rating_12 <- age_rating_apple %>% filter(new_content_rating == "12")
apple_rating_17 <- age_rating_apple %>% filter(new_content_rating == "17")
f <- list(
family = "Courier New, monospace",
size = 30,
color = "black")
# annotations
a <- list(
text = "SUBPLOT TITLE A",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 1,
showarrow = FALSE
)
b <- list(
text = "SUBPLOT TITLE B",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = -50,
y = 1,
showarrow = FALSE
)
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0)) %>% layout(annotations = a)
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1)) %>% layout(annotations = b)
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Spending in different age groups", showlegend = T,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
uniformtext=list(minsize=12, mode='hide'))
fig
b <- list(
text = "SUBPLOT TITLE B",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = -5,
y = 1,
showarrow = FALSE
)
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0)) %>% layout(annotations = a)
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1)) %>% layout(annotations = b)
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Spending in different age groups", showlegend = T,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
uniformtext=list(minsize=12, mode='hide'))
fig
f <- list(
family = "Courier New, monospace",
size = 30,
color = "black")
# annotations
a <- list(
text = "SUBPLOT TITLE A",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 1,
showarrow = FALSE
)
b <- list(
text = "SUBPLOT TITLE B",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 1,
showarrow = FALSE
)
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0)) %>% layout(annotations = a)
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1)) %>% layout(annotations = b)
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Spending in different age groups", showlegend = T,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
uniformtext=list(minsize=12, mode='hide'))
fig
# annotations
a <- list(
text = "SUBPLOT TITLE A",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 6,
showarrow = FALSE
)
b <- list(
text = "SUBPLOT TITLE B",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 1,
showarrow = FALSE
)
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0)) %>% layout(annotations = a)
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1)) %>% layout(annotations = b)
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Spending in different age groups", showlegend = T,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
uniformtext=list(minsize=12, mode='hide'))
fig
# annotations
a <- list(
text = "SUBPLOT TITLE A",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0,
y = 0,
showarrow = FALSE
)
b <- list(
text = "SUBPLOT TITLE B",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0.5,
y = 1,
showarrow = FALSE
)
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0)) %>% layout(annotations = a)
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1)) %>% layout(annotations = b)
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Spending in different age groups", showlegend = T,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
uniformtext=list(minsize=12, mode='hide'))
fig
# annotations
a <- list(
text = "SUBPLOT TITLE A",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0,
y = 0,
showarrow = FALSE
)
b <- list(
text = "SUBPLOT TITLE B",
font = "sans",
xref = "paper",
yref = "paper",
yanchor = "bottom",
xanchor = "center",
align = "center",
x = 0,
y = 1,
showarrow = FALSE
)
fig <- plot_ly()
fig <- fig %>% add_pie(data = apple_rating_4, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "4+", domain = list(row = 0, column = 0)) %>% layout(annotations = a)
fig <- fig %>% add_pie(data = apple_rating_9, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "9+", domain = list(row = 0, column = 1)) %>% layout(annotations = b)
fig <- fig %>% add_pie(data = apple_rating_12, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "12+", domain = list(row = 1, column = 0))
fig <- fig %>% add_pie(data = apple_rating_17, labels = ~prime_genre, values = ~amount_spent, textposition = 'inside',
name = "17+", domain = list(row = 1, column = 1))
fig <- fig %>% layout(title = "Spending in different age groups", showlegend = T,
grid=list(rows=2, columns=2),
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE, showlegend = TRUE),
uniformtext=list(minsize=12, mode='hide'))
fig
